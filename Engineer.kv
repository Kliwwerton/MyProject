
<First>:
    name: 'First'

    BoxLayout:
        background_color: [1,0,1,0.5]
        padding: 10
        orientation: 'vertical'
        spacing: 10

        Image:
            source: 'Images/image.png'
            center_x: self.parent.center_x
            center_y: self.parent.center_y

        Label:
            text: 'Выберите действие'
            font_size: '40sp'
            size_hint: 1, 0.5
            color: [164/255, 0, 0, 1]
            outline_color: 50/255,0,0,1
            outline_width: 2
        Button:
            id: button_1
            text: 'Расчёт давления прессования\n через удельное.'
            halign: 'center'
            valign: 'middle'
            font_size: '25sp'
            background_color: 0 , 1, 0.8, 1
            size_hint: 1, 0.3
            on_release:
                root.manager.current = 'Second'
                root.manager.transition.direction = 'left'

        Button:
            id: button_2
            text: 'Расчёт удельного давления\n через прессовое.'
            halign: 'center'
            valign: 'middle'
            font_size: '25sp'
            background_color: 0 , 1, 0.8, 1
            size_hint: 1, 0.3
            on_release:
                root.manager.current = 'Third'
                root.manager.transition.direction = 'up'

        Button:
            text: 'Расчёт химического состава.'
            font_size: '25sp'
            background_color: 0, 200/255, 0, 1
            size_hint: 1, 0.2

        Button:
            id: button_guide
            text: 'СПРАВОЧНИКИ!'
            font_size: '25sp'
            background_color: 0,0,1,1
            size_hint: 1,0.2
        Button:
            id: button_exit
            text: 'ВЫХОД'
            font_size: '15sp'
            background_color: 1, 0, 0, 1
            size_hint: .2, 0.15

            pos_hint: {'center_x': 0.5}
            on_release:
                app.stop()

<Second>:
    name: 'Second'

    BoxLayout:
        orientation: 'vertical'
        padding:10
        spacing:10

        AnchorLayout:
            anchor_x: 'center'
            anchor_y: 'top'
            size_hint: 1, 0.3
            padding:10,30,10,0

            Label:
                text: 'Расчёт давления прессования\n через удельное давление.'
                halign: 'center'
                valign: 'middle'
                font_size: '30sp'
                size_hint: 1, 0.2
                color: [255/255, 0, 0, 1]
                outline_color: 50/255,0,0,1
                outline_width: 2

        Spinner:
            id: spinner_press_mark
            size_hint: 1, 0.12
            background_normal: '0,0,0,0'
            background_color: 44/255 ,164/255, 45/255, 1
            color: 0/255 ,22/255, 203/255, 1
            font_size: '25sp'
            text: 'Выберите пресс'
            values: ['LAEIS-1250', 'SACMI-1000', 'SACMI-500', 'YPR-2500', 'ДО-542', 'ДА-2238 (ЦИЧО)', 'СМ-1085', 'ПЮ', 'ПД-476 (ЦИЧО)', 'П-483 (ЦИЧО)', 'П-474А (ЦИЧО)', 'ИП-500М-АВТО']

        Button:
            text: 'Площадь изделия (ПОДБОР)'
            font_size: '20sp'
            size_hint: 1,0.12
            background_color: 0.2, 1, 0.7, 1

        BoxLayout:
            padding: 10
            spacing: 10
            size_hint: 1, 0.15
            Label:
                text: 'S изделия: '
                font_size: '25sp'
                halign: 'left'
                valign: 'middle'
                text_size: self.size
                size_hint: 0.3, 1
                color: 0,0,0,1

            TextInput:
                id: label_S_pressing_value
                multiline: False
                font_size: '35sp'
                size_hint: 0.45, 1
                halign: 'center'
                valign: 'center'
                input_tipe: 'number'
                input_filter: 'float'

            Label:
                markup: True
                font_size: '25sp'
                size_hint: 0.2, 1
                text: 'см[sup]2[/sup]'

        GridLayout:
            size_hint: 1, 0.25
            spacing: 15
            cols: 3

            Label:
                text: 'Кол-во штампов: '
                font_size: '25sp'
                pos_hint: {'x': 0.0, 'y': 0.5}
                text_size: self.size
                halign: 'left'
                valign: 'middle'

            Spinner:
                id: spinner_quantity_stamps
                size_hint: 0.35, 1
                background_normal: '0,0,0,0'
                background_color: 44/255 ,164/255, 45/255, 1
                color: 0/255 ,22/255, 203/255, 1
                font_size: '25sp'
                text: '0'
                values: ['1', '2', '3', '4']

            Label:
                text: 'шт.'
                font_size: '25sp'
                size_hint: 0.4, 1

            Label:
                text: 'Удельное давление: '
                font_size: '25sp'
                pos_hint: {'x': 0.0, 'y': 0.5}
                text_size: self.size
                halign: 'left'
                valign: 'middle'

            TextInput:
                id: specific_pressure
                multiline: False
                size_hint: 0.3, 1
                font_size: '35sp'
                halign: 'center'
                valign: 'middle'
                input_tipe: 'number'
                input_filter: 'int'

            Label:
                markup: True
                text: 'кг/см[sup]2[/sup]'
                font_size: '25sp'
                size_hint: 0.4, 1

        AnchorLayout:
            anchor_x: 'center'
            anchor_y: 'bottom'
            size_hint: 1, 0.2

            Button:
                text: 'Рассчитать'
                font_size: '25sp'
                size_hint: 0.5, 0.6
                background_normal: ''
                background_color: 0.4,0,1,1
                on_release:
                    root.calculate()

        BoxLayout:
            size_hint: 1, 0.25
            orientation: 'vertical'

            Label:
                id: label_P_pressing_text
                text: ''
                markup: True
                size_hint: 1, 0.8
                color: 1,0,0,1
                font_size: '30sp'

            BoxLayout:
                padding: 10
                spacing: 10

                Label:
                    id: label_P_pressing_value
                    markup: True
                    text: ''
                    halign: 'right'
                    valign: 'middle'
                    text_size: self.size
                    font_size: '30sp'

                Label:
                    id: unit_of_measurement
                    text: ''
                    markup: True
                    size_hint: 0.8, 1
                    halign: 'left'
                    valign: 'middle'
                    text_size: self.size
                    font_size: '25sp'

        Button:
            size_hint: 0.6, 0.12
            text: 'СБРОС'
            font_size: '25sp'

            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            background_color: 12/255,6/255,120/255,1
            background_normal: ''
            on_press:
                root.reset()

        FloatLayout:
            size_hint: 0.8, 0.1
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

            Button:
                size_hint: 0.25, 0.8
                text: 'ДОМОЙ'
                font_size: '15sp'
                pos_hint: {'center_x': 0.25, 'center_y': 0.3}
                background_color: 1,0,0,1
                on_release:
                    root.manager.current = 'First'
                    root.manager.transition.direction = 'right'

            Button:
                id: button_exit
                text: 'ВЫХОД'
                font_size: '15sp'
                background_color: 1,0,0,1
                size_hint: 0.25, 0.8
                pos_hint: {'center_x': 0.75, 'center_y': 0.3}
                on_release:
                    app.stop()


<Third>
    name: 'Third'

    BoxLayout:
        orientation: 'vertical'
        padding:10
        spacing:10

        AnchorLayout:
            anchor_x: 'center'
            anchor_y: 'top'
            size_hint: 1, 0.3
            padding:10,30,10,0

            Label:
                text: 'Расчёт удельного давления\n через прессовое.'
                halign: 'center'
                valign: 'middle'
                font_size: '30sp'
                size_hint: 1, 0.2
                color: [255/255, 0, 0, 1]
                outline_color: 50/255,0,0,1
                outline_width: 2

        Spinner:
            id: spinner_press_mark
            size_hint: 1, 0.12
            background_normal: '0,0,0,0'
            background_color: 44/255 ,164/255, 45/255, 1
            color: 0/255 ,22/255, 203/255, 1
            font_size: '25sp'
            text: 'Выберите пресс'
            values: ['LAEIS-1250', 'SACMI-1000', 'SACMI-500', 'YPR-2500', 'ДО-542', 'ДА-2238 (ЦИЧО)', 'СМ-1085', 'ПЮ', 'ПД-476 (ЦИЧО)', 'П-483 (ЦИЧО)', 'П-474А (ЦИЧО)', 'ИП-500М-АВТО']
            on_text:
                root.change_label()

        Button:
            text: 'Площадь изделия (ПОДБОР)'
            font_size: '20sp'
            size_hint: 1,0.12
            background_color: 0.2, 1, 0.7, 1

        BoxLayout:
            padding: 10
            spacing: 10
            size_hint: 1, 0.15
            Label:
                text: 'S изделия: '
                font_size: '25sp'
                halign: 'left'
                valign: 'middle'
                text_size: self.size
                size_hint: 0.3, 1
                color: 0,0,0,1

            TextInput:
                id: S_pressing_value
                multiline: False
                font_size: '35sp'
                size_hint: 0.45, 1
                halign: 'center'
                valign: 'center'
                input_tipe: 'number'
                input_filter: 'float'

            Label:
                markup: True
                font_size: '25sp'
                size_hint: 0.2, 1
                text: 'см[sup]2[/sup]'

        GridLayout:
            size_hint: 1, 0.25
            spacing: 15
            cols: 3

            Label:
                text: 'Кол-во штампов: '
                font_size: '25sp'
                pos_hint: {'x': 0.0, 'y': 0.5}
                text_size: self.size
                halign: 'left'
                valign: 'middle'

            Spinner:
                id: spinner_quantity_stamps
                size_hint: 0.35, 1
                background_normal: '0,0,0,0'
                background_color: 44/255 ,164/255, 45/255, 1
                color: 0/255 ,22/255, 203/255, 1
                font_size: '25sp'
                text: '0'
                values: ['1', '2', '3', '4']

            Label:
                text: 'шт.'
                font_size: '25sp'
                size_hint: 0.4, 1

            Label:
                text: 'Прессовое давление: '
                font_size: '25sp'
                pos_hint: {'x': 0.0, 'y': 0.5}
                text_size: self.size
                halign: 'left'
                valign: 'middle'

            TextInput:
                id: pressure
                multiline: False
                size_hint: 0.3, 1
                font_size: '35sp'
                halign: 'center'
                valign: 'middle'
                input_tipe: 'number'
                input_filter: 'float'

            Label:
                id: pressure_unit
                markup: True
                text: ''
                font_size: '25sp'
                size_hint: 0.4, 1

        AnchorLayout:
            anchor_x: 'center'
            anchor_y: 'bottom'
            size_hint: 1, 0.2

            Button:
                text: 'Рассчитать'
                font_size: '25sp'
                size_hint: 0.5, 0.6
                background_normal: ''
                background_color: 0.4,0,1,1
                on_release:
                    root.calculate()

# Вывод информации на табло
        BoxLayout:
            size_hint: 1, 0.25
            orientation: 'vertical'

            Label:
                id: label_P_pressing_text
                text: ''
                markup: True
                size_hint: 1, 0.8
                color: 1,0,0,1
                font_size: '30sp'

            BoxLayout:
                padding: 10
                spacing: 10

                Label:
                    id: label_P_specific_pressure_value
                    markup: True
                    text: ''
                    halign: 'right'
                    valign: 'middle'
                    text_size: self.size
                    font_size: '30sp'

                Label:
                    id: unit_of_measurement
                    markup: True
                    text: ''
                    size_hint: 0.8, 1
                    halign: 'left'
                    valign: 'middle'
                    text_size: self.size
                    font_size: '25sp'

# Функциональные кнопки
        Button:
            size_hint: 0.6, 0.12
            text: 'СБРОС'
            font_size: '25sp'

            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            background_color: 12/255,6/255,120/255,1
            background_normal: ''
            on_press:
                root.reset()

        FloatLayout:
            size_hint: 0.8, 0.1
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

            Button:
                size_hint: 0.25, 0.8
                text: 'ДОМОЙ'
                font_size: '15sp'
                pos_hint: {'center_x': 0.25, 'center_y': 0.3}
                background_color: 1,0,0,1
                on_release:
                    root.manager.current = 'First'
                    root.manager.transition.direction = 'right'

            Button:
                id: button_exit
                text: 'ВЫХОД'
                font_size: '15sp'
                background_color: 1,0,0,1
                size_hint: 0.25, 0.8
                pos_hint: {'center_x': 0.75, 'center_y': 0.3}
                on_release:
                    app.stop()
